(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{20:function(e,t,n){},34:function(e,t,n){e.exports=n(46)},43:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),l=n.n(c),i=n(12),s=n(32),o=(n(43),n(3)),u=n(4),d=n(6),h=n(5),m=n(2),p=n(18),E=n(8),b=n(14),v=n.n(b),f=n(16),j=n(7),O="https://economia.awesomeapi.com.br/json/all",g=function(){return fetch(O).then((function(e){return e.json()})).then((function(e){return e}))};n(20);var x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",isButtonDisabled:!0,redirect:!1},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(u.a)(n,[{key:"handleChange",value:function(e){var t=this,n=e.target,a=n.name,r=n.value;this.setState(Object(p.a)({},a,r),(function(){var e=t.state,n=e.email,a=e.password;t.setState({isButtonDisabled:!(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(n)&&a.length>=6)})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isButtonDisabled,a=t.redirect,c=t.email,l=this.props.dispatchUserEmail;return r.a.createElement("div",{className:"login-div"},r.a.createElement("div",{className:"login-fieldset"},r.a.createElement("h1",null,"Login page"),r.a.createElement("form",{className:"form-div"},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"Email","data-testid":"email-input",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Password","data-testid":"password-input",onChange:this.handleChange})),r.a.createElement("button",{type:"button",disabled:n,onClick:function(){l(c),e.setState({redirect:!0})}},"Entrar"))),a?r.a.createElement(m.a,{to:"/carteira"}):null)}}]),n}(r.a.Component),y=Object(i.b)(null,(function(e){return{dispatchUserEmail:function(t){return e(function(e){return{type:"ADD_USER_EMAIL",email:e}}(t))}}}))(x),C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.handleChange;return r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de Pagamento:",r.a.createElement("select",{id:"method","data-testid":"method-input",name:"method",onChange:e},r.a.createElement("option",{selected:!0},"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito")))}}]),n}(a.Component),w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.handleChange;return r.a.createElement("label",{htmlFor:"tag"},"Tag:",r.a.createElement("select",{id:"tag","data-testid":"tag-input",name:"tag",onChange:e},r.a.createElement("option",{selected:!0},"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade")))}}]),n}(a.Component),k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={currencies:[]},a.fetchCurrencies=a.fetchCurrencies.bind(Object(E.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.fetchCurrencies()}},{key:"fetchCurrencies",value:function(){var e=Object(f.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,n=Object.keys(t),a=n.filter((function(e){return"USDT"!==e&&"DOGE"!==e})),this.setState({currencies:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.currencies,t=this.props.handleChange;return r.a.createElement("label",{htmlFor:"currency"},"Moeda:",r.a.createElement("select",{id:"currency","data-testid":"currency-input",name:"currency",onChange:t},e.map((function(e){return r.a.createElement("option",{key:e,value:e,"data-testid":e},e)}))))}}]),n}(a.Component),D=Object(i.b)((function(e){return{currencies:e.currencies}}),null)(k),S={value:0,description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:{}},F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state=Object(j.a)({},S),a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.saveExpenses=a.saveExpenses.bind(Object(E.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(p.a)({},n,a))}},{key:"saveExpenses",value:function(){var e=Object(f.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.saveExpense,e.next=3,g();case 3:n=e.sent,a=Object(j.a)(Object(j.a)({},this.state),{},{exchangeRates:n}),t(a),this.setState(Object(j.a)({},S));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.value,a=t.description;return r.a.createElement("div",{className:"add-expense-div"},r.a.createElement("label",{htmlFor:"value"},"Valor:",r.a.createElement("input",{type:"number",name:"value",value:n,"data-testid":"value-input",onChange:this.handleChange})),r.a.createElement(D,{handleChange:this.handleChange}),r.a.createElement(C,{handleChange:this.handleChange}),r.a.createElement(w,{handleChange:this.handleChange}),r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("input",{type:"text",name:"description",value:a,"data-testid":"description-input",onChange:this.handleChange})),r.a.createElement("button",{type:"button",onClick:function(){e.saveExpenses()}},"Adicionar Despesa"))}}]),n}(a.Component),A=Object(i.b)(null,(function(e){return{saveExpense:function(t){return e(function(e){return{type:"ADD_EXPENSE",expenses:e}}(t))}}}))(F),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("tr",{id:"expenses-header-div"},r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))}}]),n}(a.Component),T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).initialsToExtensive=a.initialsToExtensive.bind(Object(E.a)(a)),a.toFixed=a.toFixed.bind(Object(E.a)(a)),a}return Object(u.a)(n,[{key:"initialsToExtensive",value:function(e){return{USD:"D\xf3lar Comercial",CAD:"D\xf3lar Canadense",GBP:"Libra Esterlina",ARS:"Peso Argentino",BTC:"Bitcoin",LTC:"LiteCoin",EUR:"Euro",JPY:"Iene Japon\xeas",CHF:"Franco Su\xed\xe7o",AUD:"D\xf3lar Australiano"}[e]}},{key:"toFixed",value:function(e){return Number(e).toFixed(2)}},{key:"render",value:function(){var e=this,t=this.props.getExpenses;return console.log(t),r.a.createElement("div",null,r.a.createElement("table",{className:"table-header-div"},r.a.createElement(R,null),t.map((function(t){return r.a.createElement("tr",{key:t.id,id:"expenses-tr-div"},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,t.value),r.a.createElement("td",null,e.initialsToExtensive(t.currency)),r.a.createElement("td",null,e.toFixed(t.exchangeRates[t.currency].ask)),r.a.createElement("td",null,e.toFixed(t.value*t.exchangeRates[t.currency].ask)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,"Bot\xe3o"))}))))}}]),n}(a.Component),M=Object(i.b)((function(e){return{getExpenses:e.wallet.expenses}}),null)(T),N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).sumExpenses=a.sumExpenses.bind(Object(E.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.sumExpenses()}},{key:"sumExpenses",value:function(){return this.props.userExpenses.reduce((function(e,t){var n=t.value,a=t.currency;return e+n*t.exchangeRates[a].ask}),0).toFixed(2)}},{key:"render",value:function(){var e=this.props.userEmail;return r.a.createElement("div",null,r.a.createElement("header",{className:"header"},r.a.createElement("h2",null,"Trybe Wallet"),r.a.createElement("div",{className:"email-expenses-div"},r.a.createElement("h3",{"data-testid":"email-field"},"Email:"," ".concat(e)),r.a.createElement("h3",null,"Despesa Total:"),r.a.createElement("h3",{"data-testid":"total-field"}," ".concat(this.sumExpenses()," ")),r.a.createElement("h3",{"data-testid":"header-currency-field"},"BRL"))),r.a.createElement(A,null),r.a.createElement(M,null))}}]),n}(r.a.Component),B=Object(i.b)((function(e){return{userEmail:e.user.email,userExpenses:e.wallet.expenses}}),null)(N),U=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:y}),r.a.createElement(m.b,{exact:!0,path:"/carteira",component:B})))}}]),n}(a.Component),L=n(15),P=n(30),_=n(31),I={email:""};var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_EMAIL":return Object(j.a)(Object(j.a)({},e),{},{email:t.email});default:return e}},W=n(33),V={currencies:[],expenses:[]};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CURRENCIES":return Object(j.a)(Object(j.a)({},e),{},{currencies:t.currencies});case"ADD_EXPENSE":return Object(j.a)(Object(j.a)({},e),{},{expenses:[].concat(Object(W.a)(e.expenses),[Object(j.a)({id:e.expenses.length},t.expenses)])});default:return e}},G=Object(L.combineReducers)({user:J,wallet:z}),X=Object(L.createStore)(G,Object(P.composeWithDevTools)(Object(L.applyMiddleware)(_.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(s.a,null,r.a.createElement(i.a,{store:X},r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.560a3732.chunk.js.map